{"version":3,"sources":["../../../../assets/scripts/assets/scripts/loadingMgr.js"],"names":["cc","Class","extends","Component","properties","minumStayTime","hasChangedScene","default","visible","dataCenter","flag","onLoad","require","setUpPlayerDataFromServer","configs","refreshConfig","getJsonObjFromServerByJsonFileName","fishConfig","start","setUpPrefabs","loadPrefabs","prefabNames","getFishPrefabNamesByAreaLevel","index","loader","loadRes","err","prefab","update","dt"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,uBAAe,CAhBP;AAiBRC,yBAAiB;AACbC,qBAAS,KADI;AAEbC,qBAAS;AAFI,SAjBT;AAqBRC,oBAAY,IArBJ;AAsBRC,cAAK;AAtBG,KAHP;;AA4BL;;AAEAC,UA9BK,oBA8BK;AACN,aAAKF,UAAL,GAAkBG,QAAQ,YAAR,CAAlB;;AAEA,aAAKF,IAAL,GAAY,KAAKD,UAAL,CAAgBI,yBAAhB,EAAZ;AACA,aAAKJ,UAAL,CAAgBK,OAAhB,CAAwBC,aAAxB,GAAwC,KAAKN,UAAL,CAAgBO,kCAAhB,CAAmD,mBAAnD,CAAxC;AACA,aAAKP,UAAL,CAAgBK,OAAhB,CAAwBG,UAAxB,GAAqC,KAAKR,UAAL,CAAgBO,kCAAhB,CAAmD,YAAnD,CAArC;AACH,KApCI;AAsCLE,SAtCK,mBAsCI,CAER,CAxCI;AAyCLC,gBAzCK,0BAyCS,CAEb,CA3CI;;AA4CL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAC,eAjEK,yBAiEQ;AACT,YAAIC,cAAc,KAAKZ,UAAL,CAAgBa,6BAAhB,EAAlB;AACA,aAAK,IAAIC,KAAT,IAAkBF,WAAlB,EAA8B;AAC1BrB,eAAGwB,MAAH,CAAUC,OAAV,CAAkBJ,YAAYE,KAAZ,CAAlB,EAAqC,UAASG,GAAT,EAAaC,MAAb,EAAoB,CAExD,CAFD;AAGH;AACJ,KAxEI;AA0ELC,UA1EK,kBA0EGC,EA1EH,EA0EO;AACR,YAAI,KAAKnB,IAAL,IAAa,KAAKD,UAAL,CAAgBK,OAAhB,CAAwBC,aAArC,IAAsD,KAAKN,UAAL,CAAgBK,OAAhB,CAAwBG,UAAlF,EAA8F,CAE7F;AACJ;AA9EI,CAAT","file":"loadingMgr.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        minumStayTime: 3,\n        hasChangedScene: {\n            default: false,\n            visible: false\n        },\n        dataCenter: null,\n        flag:null,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.dataCenter = require(\"dataCenter\");\n\n        this.flag = this.dataCenter.setUpPlayerDataFromServer();\n        this.dataCenter.configs.refreshConfig = this.dataCenter.getJsonObjFromServerByJsonFileName(\"refreshRuleConfig\");\n        this.dataCenter.configs.fishConfig = this.dataCenter.getJsonObjFromServerByJsonFileName(\"fishConfig\");\n    },\n\n    start () {\n\n    },\n    setUpPrefabs(){\n\n    },\n    // loadRes(dataCenter,refreshConfig,fishConfig){\n        \n    //     var currentAreaLevel = dataCenter.playerData.currentAreaLevel;\n    //     var refreshRule = dataCenter.getRefreshRuleByAreaLevel(currentAreaLevel,refreshConfig);\n\n    //     var fishIds = [];\n    //     for (var index in refreshRule) {\n    //         fishIds[index] = refreshRule[index].fishId;\n    //     }\n    //     var fishDetailConfigs = [];\n    //     for (var index in fishIds) {\n    //         fishDetailConfigs[index] = dataCenter.getFishConfigByFishId(fishIds[index],fishConfig);\n    //     }\n    //     var modelNames = []\n    //     for (var index in fishDetailConfigs) {\n    //         var oneConfig = fishDetailConfigs[index];\n    //         modelNames[index] = oneConfig[0];\n    //     }\n    //     //load models \n        \n    // },\n    loadPrefabs(){\n        var prefabNames = this.dataCenter.getFishPrefabNamesByAreaLevel();\n        for (var index in prefabNames){\n            cc.loader.loadRes(prefabNames[index],function(err,prefab){\n                \n            }) \n        }\n    },\n\n    update (dt) {\n        if (this.flag && this.dataCenter.configs.refreshConfig && this.dataCenter.configs.fishConfig) {\n\n        }\n    },\n});\n"]}